<script src="js/script.js"></script><script>navigateHome()</script>

## Live Demo

<strong>Instantiating `Parent`</strong>
<pre style="margin-bottom: 40px;">var config = {
	onHandshakeCallback: function () { },
	onPollingCallback: function () { }
}
var parent = new AcrossTabs.Parent(config);
</pre>

<button onclick="openNewTab()">Open New tab</button>

<div id="tabs" style="visibility: hidden">
	<h3>List of all Tabs</h3>
	<div id="all-tabs"></div>
	<h3>List of Opened Tabs</h3>
	<div id="opened-tabs"></div>
	<h3>List of Closed Tabs</h3>
	<div id="closed-tabs"></div>
	<button onclick="closeAllTabs()">Close All</button>
</div>

<script src="js/across-tabs.js"></script>
<script type="text/javascript">
	var i = 1,
		parent;
	var allTabs = [], openedTabs = [], closedTabs = [];
	var postMessageEvents = [];

	function openNewTab() {
		var config = {
	        url: 'child.html',
	        windowName: 'child-tab-' + i++,
	        windowFeatures: ''
      	};
    	parent.openNewTab(config);
    	document.getElementById('tabs').style.visibility = 'visible';
	}
	function closeAllTabs() {
      parent.closeAllTabs();
      showList();
    }
    function closeTab(id) {
      parent.closeTab(id);
      showList();
    }
    function showPMList() {
    	postMessageEvents.push(data);
    }
    function showList() {
    	allTabs = parent.getAllTabs(),
      	openedTabs = parent.getOpenedTabs(),
      	closedTabs = parent.getClosedTabs();

      	var allTabsText = '', openedTabsText = '', closedTabsText = '';
      	for (var i = 0; i < allTabs.length; i++) {
      		allTabsText += 'id: <strong>' + allTabs[i].id + '</strong>';
      		allTabsText += '<br>status: <strong>' + allTabs[i].status + '</strong>';
      	}
      	document.getElementById('all-tabs').innerHTML = allTabsText;

      	for (var i = 0; i < openedTabs.length; i++) {
      		openedTabsText += 'id: <strong>' +openedTabs[i].id + '</strong>';
      		openedTabsText += '<br>status: <strong>' + openedTabs[i].status + '</strong>';
      	}
      	document.getElementById('opened-tabs').innerHTML = allTabsText;

      	for (var i = 0; i < closedTabs.length; i++) {
      		closedTabsText += 'id: <strong>' +closedTabs[i].id + '</strong>';
      		closedTabsText += '<br>status: <strong>' + closedTabs[i].status + '</strong>';
      	}
      	document.getElementById('closed-tabs').innerHTML = closedTabsText;

    }

	document.addEventListener('DOMContentLoaded',function(){
		var config = {
			onHandshakeCallback: showPMList,
			onPollingCallback: showList
		};
		parent = new AcrossTabs.Parent(config);
	});
</script>

